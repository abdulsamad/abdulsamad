---
import type { HTMLAttributes } from 'astro/types';

export interface Props extends HTMLAttributes<'input'> {
  name: string;
  label: string;
  error?: string;
}

const { type, label, name, error, required, ...props } = Astro.props;
---

<div>
  <div class="relative my-4 flex flex-col-reverse items-start">
    <input
      type={type}
      class={`w-full relative text-slate-700 border border-primary-200 shadow py-3 px-2 rounded-lg focus:rounded-lg focus:shadow-lg [&:focus~span]:bg-primary`}
      name={name}
      required={required}
      {...props}
    />
    <label
      for={name}
      class={`mb-2 font-semibold ml-[2px] 
      ${required ? '[&::after]:[content:"*"] [&::after]:text-red-400' : ''}`}>
      {label}
    </label>
  </div>
  {error && <div class="-m-4 pb-2.5 text-sm text-red-500 text-center">{error}</div>}
</div>
